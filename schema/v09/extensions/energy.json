{
  "type": "CityJSON extension",
  "name": "EnergyExtension",
  "uri": "https://someurl.org/energy.json",
  "version": "0.1",
  "description": "CityJSON encoding for CityGML Energy ADE v1.0",
  "definitions": {
    "floorArea": {
      "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "type": { "enum": ["netFloorArea", "grossFloorArea", "energyReferenceArea"] },
            "value": { "type": "number" },
            "uom": { "type": "string" }  
          },
          "required": [ "type", "value", "uom" ],
          "additionalProperties": "false"
        }
    },
    "volumeType": {
      "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "type": { "enum": ["netVolume", "grossVolume", "energyReferenceVolume"] },
            "value": { "type": "number" },
            "uom": { "type": "string" }  
          },
          "required": [ "type", "value", "uom" ],
          "additionalProperties": "false"
        }
      },
    "point": {
      "type": "object",
        "properties": {
          "type": { "enum": ["Point"] },
          "location": { "type": "integer" }
        },
        "required": [ "type", "location" ],
        "additionalProperties": false
      }
  },
  "extraRootProperties": {
      
  },
  
  "extraAttributes": {
    "Building": {
      "+buildingType": { "enum": ["Apartment Block", "Multi Family House", "Single Family House", "Terraced House"] },
      "+constructionWeight": { "enum": ["veryLight", "light", "medium", "heavy"] },
      "+energyPerformanceCertification": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "rating" : { "type": "string" },
            "name" : { "type": "string" },
            "certificationId" : { "type": "string" }
          },
          "required": [ "rating", "name" ],
          "additionalProperties": false
        }
      },
      "+volume": {
        "$ref":"#/definitions/volumeType"
      },
      "+isLandmarked": { "type": "boolean" },
      "+referencePoint": { "ref":"#/definitions/point"},
      "+refurbishmentMeasure": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "date": { "type":"string", "format":"date-time" },
            "level": { "enum": ["Advanced", "No refurbishment", "Standard"] },
            "description": { "type": "string" }
          },
          "required": [ "date", "level" ],
          "additionalProperties": "false"
        }
      },
      "+floorArea": {
        "$ref":"#/definitions/presentLoDs"
      },
      "+heightAboveGround": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "heightReference": {
              "enum": [
                  "bottomOfConstruction",
                  "entrancePoint",
                  "generalEave",
                  "generalRoof",
                  "generalRoofEdge",
                  "highestEave",
                  "highestPoint",
                  "highestRoofEdge",
                  "lowestEave",
                  "lowestFloorAboveGround",
                  "lowestRoofEdge",
                  "topOfConstruction",
                  "topThermalBoundary",
                  "bottomThermalBoundary"
                ] 
            },
            "value": {"type": "number"},
            "uom": {"type": "string"}
          },
          "required": [ "heightReference", "value", "uom" ],
          "additionalProperties": "false"
        }
      },
      "+usageZone": {
        "type": "array",
        "items": {}
      },
      "+thermalZone": {
        "type": "array",
        "items": {}
      }
    }
  },
  
  "extraCityObjects": {
      "+ThermalZone": {
        "type": "object",
        "properties": {
          "additionalThermalBridgeUValue": {
            "type": "object",
            "properties": {
              "value": { "type": "number" },
              "uom": { "type": "string" } 
            }
          },
          "effectiveThermalCapacity": {
            "type": "object",
            "properties": {
              "value": { "type": "number" },
              "uom": { "type": "string" } 
            }
          },
          "+floorArea": {
            "$ref":"#/definitions/floorArea"
          },
          "+volume": {
            "$ref":"#/definitions/volumeType"
          },
          "+indirectlyHeatedAreaRatio": {
            "type": "object",
            "properties": {
              "value": { "type": "number" },
              "uom": { "type": "string" } 
            }
          },
          "+infiltrationRate": {
            "type": "object",
            "properties": {
              "value": { "type": "number" },
              "uom": { "type": "string" } 
            }
          },
          "isCooled": { "type": "boolean"},
          "isHeated": { "type": "boolean"},
          "volumeGeometry": {
            "type": "object",
            "oneOf": [
              {"$ref": "geomprimitives.json#/Solid"},
              {"$ref": "geomprimitives.json#/MultiSolid"},
              {"$ref": "geomprimitives.json#/CompositeSolid"}
            ]
          }
        },
        "additionalProperties": false
      }
  }
  
}